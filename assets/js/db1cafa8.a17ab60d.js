"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[6879],{7396:(n,i,e)=>{e.r(i),e.d(i,{assets:()=>r,contentTitle:()=>s,default:()=>o,frontMatter:()=>l,metadata:()=>t,toc:()=>d});var c=e(4848),h=e(8453);const l={},s="T\xecm hi\u1ec3u database management system c\u01a1 b\u1ea3n (part 1)",t={id:"blog/24-09-10-Database",title:"T\xecm hi\u1ec3u database management system c\u01a1 b\u1ea3n (part 1)",description:"Gi\u1edbi thi\u1ec7u t\u1ed5ng quan",source:"@site/docs/blog/24-09-10-Database.md",sourceDirName:"blog",slug:"/blog/24-09-10-Database",permalink:"/docs/blog/24-09-10-Database",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Blog",permalink:"/docs/category/blog"},next:{title:"T\xecm hi\u1ec3u database management system c\u01a1 b\u1ea3n (part 2)",permalink:"/docs/blog/24-09-11-Database"}},r={},d=[{value:"Gi\u1edbi thi\u1ec7u t\u1ed5ng quan",id:"gi\u1edbi-thi\u1ec7u-t\u1ed5ng-quan",level:2},{value:"Gi\u1edbi thi\u1ec7u b\xe0i h\xf4m nay",id:"gi\u1edbi-thi\u1ec7u-b\xe0i-h\xf4m-nay",level:2},{value:"Ch\xfang ta s\u1ebd c\u1ed1 g\u1eafng h\u1ecdc theo h\u01b0\u1edbng bottom-up.",id:"ch\xfang-ta-s\u1ebd-c\u1ed1-g\u1eafng-h\u1ecdc-theo-h\u01b0\u1edbng-bottom-up",level:2},{value:"Nh\u01b0ng ban ban \u0111\u1ea7u h\xe3y c\xf3 1 c\xe1i nh\xecn t\u1ed5ng quan, khi tr\u1ea3 l\u1eddi c\xe1c c\xe2u h\u1ecfi, ch\xfang ta c\xf3 th\u1ec3 tham chi\u1ebfu l\u1ea1i h\xecnh n\xe0y.",id:"nh\u01b0ng-ban-ban-\u0111\u1ea7u-h\xe3y-c\xf3-1-c\xe1i-nh\xecn-t\u1ed5ng-quan-khi-tr\u1ea3-l\u1eddi-c\xe1c-c\xe2u-h\u1ecfi-ch\xfang-ta-c\xf3-th\u1ec3-tham-chi\u1ebfu-l\u1ea1i-h\xecnh-n\xe0y",level:3},{value:"Ch\xfang ta s\u1ebd b\u1eaft \u0111\u1ea7u c\xe1c c\xe2u h\u1ecfi \u0111\u1ec3 x\xe2y d\u1ef1ng ki\u1ebfn th\u1ee9c.",id:"ch\xfang-ta-s\u1ebd-b\u1eaft-\u0111\u1ea7u-c\xe1c-c\xe2u-h\u1ecfi-\u0111\u1ec3-x\xe2y-d\u1ef1ng-ki\u1ebfn-th\u1ee9c",level:2},{value:"T\u1ea1i sao ch\xfang ta kh\xf4ng l\u01b0u d\u1eef li\u1ec7u d\u01b0\u1edbi file txt, hay excel, m\xe0 ph\u1ea3i d\xf9ng database ?",id:"t\u1ea1i-sao-ch\xfang-ta-kh\xf4ng-l\u01b0u-d\u1eef-li\u1ec7u-d\u01b0\u1edbi-file-txt-hay-excel-m\xe0-ph\u1ea3i-d\xf9ng-database-",level:3},{value:"D\u1eef li\u1ec7u b\xean d\u01b0\u1edbi th\u1ef1c s\u1ef1 \u0111\u01b0\u1ee3c l\u01b0u tr\u1eef nh\u01b0 th\u1ebf n\xe0o ?",id:"d\u1eef-li\u1ec7u-b\xean-d\u01b0\u1edbi-th\u1ef1c-s\u1ef1-\u0111\u01b0\u1ee3c-l\u01b0u-tr\u1eef-nh\u01b0-th\u1ebf-n\xe0o-",level:3},{value:"Access Method (File organization) l\xe0 g\xec ?",id:"access-method-file-organization-l\xe0-g\xec-",level:3},{value:"So s\xe1nh c\xe1c Access Method.",id:"so-s\xe1nh-c\xe1c-access-method",level:3},{value:"B-Tree:",id:"b-tree",level:2},{value:"V\u1eady khi 1 File l\xean t\u1edbi h\xe0ng terabyte, ch\xfang ta c\xf3 load to\xe0n b\u1ed9 file t\u1eeb disk v\xe0o memory kh\xf4ng ?",id:"v\u1eady-khi-1-file-l\xean-t\u1edbi-h\xe0ng-terabyte-ch\xfang-ta-c\xf3-load-to\xe0n-b\u1ed9-file-t\u1eeb-disk-v\xe0o-memory-kh\xf4ng-",level:3},{value:"V\u1eady n\u1ebfu client y\xeau c\u1ea7u 1 l\u1ec7nh order by tr\xean to\xe0n b\u1ed9 record, sau \u0111\xf3 l\u1ea5y ra 100 record \u0111\u1ea7u ti\xean th\xec ch\xfang ta x\u1eed l\xfd nh\u01b0 th\u1ebf n\xe0o ?",id:"v\u1eady-n\u1ebfu-client-y\xeau-c\u1ea7u-1-l\u1ec7nh-order-by-tr\xean-to\xe0n-b\u1ed9-record-sau-\u0111\xf3-l\u1ea5y-ra-100-record-\u0111\u1ea7u-ti\xean-th\xec-ch\xfang-ta-x\u1eed-l\xfd-nh\u01b0-th\u1ebf-n\xe0o-",level:3},{value:"Nghi\xean c\u1ee9u s\xe2u h\u01a1n v\u1ec1 SQL, SQL h\u1ed7 tr\u1ee3 c\xe1c Operator n\xe0o ?",id:"nghi\xean-c\u1ee9u-s\xe2u-h\u01a1n-v\u1ec1-sql-sql-h\u1ed7-tr\u1ee3-c\xe1c-operator-n\xe0o-",level:3},{value:"OPTIMIZE QUERY",id:"optimize-query",level:3},{value:"ESTIMATE COST",id:"estimate-cost",level:3},{value:"Ph\xe9p Join \u0111\u01b0\u1ee3c th\u1ef1c hi\u1ec7n nh\u01b0 th\u1ebf n\xe0o, \u0111\u1ed9 ph\u1ee9c t\u1ea1p c\u1ee7a m\u1ed7i lo\u1ea1i ?",id:"ph\xe9p-join-\u0111\u01b0\u1ee3c-th\u1ef1c-hi\u1ec7n-nh\u01b0-th\u1ebf-n\xe0o-\u0111\u1ed9-ph\u1ee9c-t\u1ea1p-c\u1ee7a-m\u1ed7i-lo\u1ea1i-",level:3},{value:"B\xe0i h\xf4m nay c\u0169ng \u0111\xe3 d\xe0i, h\u1eb9n g\u1eb7p l\u1ea1i c\xe1c b\u1ea1n \u1edf b\xe0i ti\u1ebfp theo.",id:"b\xe0i-h\xf4m-nay-c\u0169ng-\u0111\xe3-d\xe0i-h\u1eb9n-g\u1eb7p-l\u1ea1i-c\xe1c-b\u1ea1n-\u1edf-b\xe0i-ti\u1ebfp-theo",level:3}];function a(n){const i={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,h.R)(),...n.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(i.header,{children:(0,c.jsx)(i.h1,{id:"t\xecm-hi\u1ec3u-database-management-system-c\u01a1-b\u1ea3n-part-1",children:"T\xecm hi\u1ec3u database management system c\u01a1 b\u1ea3n (part 1)"})}),"\n",(0,c.jsx)(i.h2,{id:"gi\u1edbi-thi\u1ec7u-t\u1ed5ng-quan",children:"Gi\u1edbi thi\u1ec7u t\u1ed5ng quan"}),"\n",(0,c.jsxs)(i.ul,{children:["\n",(0,c.jsx)(i.li,{children:"T\xf3m t\u1eaft l\u1ea1i \u0111\xe3 h\u1ecdc \u0111\u01b0\u1ee3c g\xec t\u1eeb kho\xe1 h\u1ecdc MIT 6.830."}),"\n",(0,c.jsxs)(i.li,{children:["M\xecnh b\u1eaft \u0111\u1ea7u kho\xe1 h\u1ecdc MIT ",(0,c.jsx)(i.a,{href:"https://dsg.csail.mit.edu/6.5830/",children:"https://dsg.csail.mit.edu/6.5830/"})," v\xe0 ho\xe0n th\xe0nh c\xe1c lab c\u1ee7a kho\xe1 h\u1ecdc (3\nlab), l\xe0 ho\xe0n thi\u1ec7n 1 database management system c\u01a1 b\u1ea3n."]}),"\n",(0,c.jsxs)(i.li,{children:["Git repo g\u1ed1c: ",(0,c.jsx)(i.a,{href:"https://github.com/MIT-DB-Class/go-db-hw-2023",children:"https://github.com/MIT-DB-Class/go-db-hw-2023"})]}),"\n",(0,c.jsxs)(i.li,{children:["Repo c\u1ee7a m\xecnh: ",(0,c.jsx)(i.a,{href:"https://github.com/trandanhhoang/database-go",children:"https://github.com/trandanhhoang/database-go"})]}),"\n"]}),"\n",(0,c.jsx)(i.h2,{id:"gi\u1edbi-thi\u1ec7u-b\xe0i-h\xf4m-nay",children:"Gi\u1edbi thi\u1ec7u b\xe0i h\xf4m nay"}),"\n",(0,c.jsxs)(i.ul,{children:["\n",(0,c.jsx)(i.li,{children:"Th\u1eddi gian \u0111\u1ecdc: 30-60 ph\xfat \u0111\u1ecdc."}),"\n",(0,c.jsx)(i.li,{children:"Ch\xfang ta s\u1ebd h\u1ecdc c\xe1ch m\xe0 database t\u1ed5 ch\u1ee9c d\u1eef li\u1ec7u \u1edf tr\xean disk, c\xe1ch DB load d\u1eef li\u1ec7u l\xean mem."}),"\n",(0,c.jsx)(i.li,{children:"C\xe1ch DB optimize query, v\xe0 c\xe1c c\xe1ch th\u1ef1c hi\u1ec7n ph\xe9p join."}),"\n"]}),"\n",(0,c.jsx)(i.h2,{id:"ch\xfang-ta-s\u1ebd-c\u1ed1-g\u1eafng-h\u1ecdc-theo-h\u01b0\u1edbng-bottom-up",children:"Ch\xfang ta s\u1ebd c\u1ed1 g\u1eafng h\u1ecdc theo h\u01b0\u1edbng bottom-up."}),"\n",(0,c.jsx)(i.h3,{id:"nh\u01b0ng-ban-ban-\u0111\u1ea7u-h\xe3y-c\xf3-1-c\xe1i-nh\xecn-t\u1ed5ng-quan-khi-tr\u1ea3-l\u1eddi-c\xe1c-c\xe2u-h\u1ecfi-ch\xfang-ta-c\xf3-th\u1ec3-tham-chi\u1ebfu-l\u1ea1i-h\xecnh-n\xe0y",children:"Nh\u01b0ng ban ban \u0111\u1ea7u h\xe3y c\xf3 1 c\xe1i nh\xecn t\u1ed5ng quan, khi tr\u1ea3 l\u1eddi c\xe1c c\xe2u h\u1ecfi, ch\xfang ta c\xf3 th\u1ec3 tham chi\u1ebfu l\u1ea1i h\xecnh n\xe0y."}),"\n",(0,c.jsxs)(i.ul,{children:["\n",(0,c.jsxs)(i.li,{children:["\n",(0,c.jsx)(i.p,{children:"C\xe1c th\xe0nh ph\u1ea7n ch\xednh c\u1ee7a Database"}),"\n",(0,c.jsxs)(i.ul,{children:["\n",(0,c.jsx)(i.li,{children:(0,c.jsx)(i.img,{alt:"db-components",src:e(2715).A+"",width:"1101",height:"763"})}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(i.li,{children:["\n",(0,c.jsx)(i.p,{children:"Trong \u0111\xf3,"}),"\n",(0,c.jsxs)(i.ul,{children:["\n",(0,c.jsx)(i.li,{children:"Client Communication Manager: thi\u1ebft l\u1eadp k\u1ebft n\u1ed7i gi\u1eefa client v\xe0 database server."}),"\n",(0,c.jsx)(i.li,{children:'Process Manager: DB c\u1ea7n "admission control", c\xe2u query n\xe0o \u0111\u1ee7 resource, th\xec m\u1edbi \u0111\u01b0\u1ee3c th\u1ef1c\nhi\u1ec7n.'}),"\n",(0,c.jsx)(i.li,{children:"Relational Query Processor: parse c\xe2u query, optimize query."}),"\n",(0,c.jsxs)(i.li,{children:["Transactional Storage Manager:","\n",(0,c.jsxs)(i.ul,{children:["\n",(0,c.jsx)(i.li,{children:"Access Methods (File Organization): c\xe1ch m\xe0 db t\u1ed5 ch\u1ee9c, truy c\u1eadp d\u1eef li\u1ec7u tr\xean disk (v\xed d\u1ee5: heap_file, Btree)"}),"\n",(0,c.jsx)(i.li,{children:"BufferPool: Quy\u1ebft \u0111\u1ecbnh d\u1eef li\u1ec7u khi n\xe0o \u0111\u01b0\u1ee3c l\u01b0u tr\xean memory, disk."}),"\n",(0,c.jsx)(i.li,{children:"Lock Manager, Log Manager: \u0110\u1ea3m b\u1ea3o ACID"}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(i.li,{children:"Share component & Utilities:"}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(i.li,{children:["\n",(0,c.jsx)(i.p,{children:"Ch\xfang ta s\u1ebd t\u1eadp trung v\xe0o"}),"\n",(0,c.jsxs)(i.ul,{children:["\n",(0,c.jsxs)(i.li,{children:["M\u1ed9t ph\u1ea7n c\u1ee7a ",(0,c.jsx)(i.strong,{children:"Relational Query Processor"}),", v\u1ec1 optimize query"]}),"\n",(0,c.jsxs)(i.li,{children:["To\xe0n b\u1ed9 ",(0,c.jsx)(i.strong,{children:"Transaction Storage Manager"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(i.h2,{id:"ch\xfang-ta-s\u1ebd-b\u1eaft-\u0111\u1ea7u-c\xe1c-c\xe2u-h\u1ecfi-\u0111\u1ec3-x\xe2y-d\u1ef1ng-ki\u1ebfn-th\u1ee9c",children:"Ch\xfang ta s\u1ebd b\u1eaft \u0111\u1ea7u c\xe1c c\xe2u h\u1ecfi \u0111\u1ec3 x\xe2y d\u1ef1ng ki\u1ebfn th\u1ee9c."}),"\n",(0,c.jsx)(i.h3,{id:"t\u1ea1i-sao-ch\xfang-ta-kh\xf4ng-l\u01b0u-d\u1eef-li\u1ec7u-d\u01b0\u1edbi-file-txt-hay-excel-m\xe0-ph\u1ea3i-d\xf9ng-database-",children:"T\u1ea1i sao ch\xfang ta kh\xf4ng l\u01b0u d\u1eef li\u1ec7u d\u01b0\u1edbi file txt, hay excel, m\xe0 ph\u1ea3i d\xf9ng database ?"}),"\n",(0,c.jsxs)(i.ul,{children:["\n",(0,c.jsx)(i.li,{children:"DB gi\xfap ch\xfang ta truy v\u1ea5n d\u1eef li\u1ec7u v\u1edbi SQL, file th\xec kh\xf4ng."}),"\n"]}),"\n",(0,c.jsx)(i.h3,{id:"d\u1eef-li\u1ec7u-b\xean-d\u01b0\u1edbi-th\u1ef1c-s\u1ef1-\u0111\u01b0\u1ee3c-l\u01b0u-tr\u1eef-nh\u01b0-th\u1ebf-n\xe0o-",children:"D\u1eef li\u1ec7u b\xean d\u01b0\u1edbi th\u1ef1c s\u1ef1 \u0111\u01b0\u1ee3c l\u01b0u tr\u1eef nh\u01b0 th\u1ebf n\xe0o ?"}),"\n",(0,c.jsxs)(i.ul,{children:["\n",(0,c.jsx)(i.li,{children:"Cho schema sau:"}),"\n"]}),"\n",(0,c.jsx)(i.pre,{children:(0,c.jsx)(i.code,{className:"language-sql",children:"CREATE TABLE student\n(\n    id   INT,\n    name VARCHAR(32),\n);\n"})}),"\n",(0,c.jsxs)(i.ul,{children:["\n",(0,c.jsxs)(i.li,{children:["C\xe1c ",(0,c.jsx)(i.code,{children:"TUPLE"}),"( hay h\xe0ng d\u1eef li\u1ec7u, record, row) l\xe0 n\u01a1i l\u01b0u gi\xe1 tr\u1ecb, t\u01b0\u01a1ng \u1ee9ng v\u1edbi ki\u1ec3u d\u1eef li\u1ec7u (string,\nint, ...) \u0111\u01b0\u1ee3c \u0111\u1ecbnh ngh\u0129a trong schema.","\n",(0,c.jsxs)(i.ul,{children:["\n",(0,c.jsx)(i.li,{children:"gi\u1ea3 s\u1eed ki\u1ec3u int 8B, string 32B, th\xec h\xe0ng tr\xean s\u1ebd c\xf3 size = 8 + 32 = 40 Byte (T\u1ea5t nhi\xean l\xe0 DB\ns\u1ebd h\u1ed7 tr\u1ee3 dynamic size cho c\xe1c ki\u1ec3u d\u1eef li\u1ec7u, nh\u01b0ng m\xecnh s\u1ebd b\u1ecf qua \u0111\u1ec3 \u0111\u01a1n gi\u1ea3n cho c\xe1c t\xednh\nto\xe1n sau n\xe0y)."}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(i.li,{children:[(0,c.jsx)(i.code,{children:"PAGE"}),": th\u01b0\u1eddng c\xf3 size = 4096B. Ch\u1ee9a c\xe1c th\xf4ng tin v\u1ec1 tuple, c\u0169ng nh\u01b0 c\xe1c tuple tr\xean, tu\u1ef3 thu\u1ed9c v\xe0o c\u1ea5u tr\xfac d\u1eef li\u1ec7u c\u1ee7a AccessMethod (heapfile ho\u1eb7c\nBtree). V\xed d\u1ee5 v\u1edbi heap-file","\n",(0,c.jsxs)(i.ul,{children:["\n",(0,c.jsxs)(i.li,{children:["M\u1ed7i PAGE c\xf3 th\u1ec3 d\xe0nh 8 Byte \u0111\u1ec3 l\u01b0u tr\u1eef ",(0,c.jsx)(i.code,{children:"metadata"}),", v\xed d\u1ee5: 4B cho s\u1ed1 tuples hi\u1ec7n t\u1ea1i, v\xe0 4B cho s\u1ed1 tuples t\u1ed1i\n\u0111a c\xf3 th\u1ec3 l\u01b0u tr\u1eef."]}),"\n",(0,c.jsx)(i.li,{children:"C\xe1c tuple \u0111\u01b0\u1ee3c l\u01b0u li\xean ti\u1ebfp v\u1edbi nhau."}),"\n",(0,c.jsx)(i.li,{children:"V\u1edbi TUPLE c\xf3 size l\xe0 40 Byte, th\xec 1 PAGE s\u1ebd l\u01b0u \u0111\u01b0\u1ee3c (4096 - 8) / 40 = 102 tuple. v\u1edbi 8 Byte\ncho metadata."}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(i.li,{children:[(0,c.jsx)(i.code,{children:"FILE"}),": bao g\u1ed3m nhi\u1ec1u PAGE."]}),"\n",(0,c.jsxs)(i.li,{children:["h\xecnh \u1ea3nh v\u1ebd file n\u1ebfu s\u1eed d\u1ee5ng ",(0,c.jsx)(i.code,{children:"HEAPFILE"}),"\n",(0,c.jsxs)(i.ul,{children:["\n",(0,c.jsx)(i.li,{children:(0,c.jsx)(i.img,{alt:"heapfile",src:e(4214).A+"",width:"962",height:"521"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(i.h3,{id:"access-method-file-organization-l\xe0-g\xec-",children:"Access Method (File organization) l\xe0 g\xec ?"}),"\n",(0,c.jsxs)(i.ul,{children:["\n",(0,c.jsxs)(i.li,{children:["\n",(0,c.jsx)(i.p,{children:"Access Method (File organization) l\xe0 1 ph\u1ea7n c\u1ee7a Transactional Storage Manager, b\u1ea1n c\xf3 th\u1ec3 xem l\u1ea1i ph\u1ea7n t\u1ed5ng quan \u1edf tr\xean."}),"\n",(0,c.jsxs)(i.ul,{children:["\n",(0,c.jsx)(i.li,{children:"Access method \u1ea3nh h\u01b0\u1edfng t\u1edbi c\xe1ch truy c\u1eadp d\u1eef li\u1ec7u, v\xed d\u1ee5: heap scan, hay index scan."}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(i.li,{children:["\n",(0,c.jsx)(i.p,{children:"Access Method: L\xe0 c\xe1ch m\xe0 ch\xfang ta read, write d\u1eef li\u1ec7u t\u1eeb disk l\xean memory. C\xf3 nhi\u1ec1u lo\u1ea1i Access, v\xed d\u1ee5:"}),"\n",(0,c.jsxs)(i.ul,{children:["\n",(0,c.jsxs)(i.li,{children:["HeapFile: L\u01b0u tr\u1eef d\u1eef li\u1ec7u li\xean ti\u1ebfp nhau (Unorder records), \u0111\u01a1n gi\u1ea3n (\u0111\xe3 c\xf3 v\xed d\u1ee5 \u1edf tr\xean).","\n",(0,c.jsxs)(i.ul,{children:["\n",(0,c.jsxs)(i.li,{children:["File organization: M\xecnh s\u1ebd nh\u1eafc l\u1ea1i l\u1ea7n n\u1eefa","\n",(0,c.jsxs)(i.ul,{children:["\n",(0,c.jsx)(i.li,{children:"Pages: fixed length records"}),"\n",(0,c.jsx)(i.li,{children:"Records"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(i.li,{children:["Btree: H\u1ed7 tr\u1ee3 range query.","\n",(0,c.jsxs)(i.ul,{children:["\n",(0,c.jsxs)(i.li,{children:["B\u1ea1n c\xf3 th\u1ec3 \u0111\u1eb7t c\xe2u h\u1ecfi t\u1ea1i sao ko d\xf9ng Binary search tree, m\xe0 ph\u1ea3i d\xf9ng Btree, th\xec m\xecnh c\xf3\nth\u1ec3 gi\u1ea3i th\xedch ng\u1eafn g\u1ecdn, tr\u1ecdng t\xe2m l\xe0:","\n",(0,c.jsxs)(i.ul,{children:["\n",(0,c.jsx)(i.li,{children:"C\xe2y BST th\xec cao h\u01a1n c\xe2y BTree, d\u1eabn t\u1edbi Btree gi\xfap ch\xfang ta gi\u1ea3m s\u1ed1 l\u1ea7n truy c\u1eadp disk,\nv\xec m\u1ed7i l\u1ea7n truy c\u1eadp disk l\xe0 r\u1ea5t t\u1ed1n k\xe9m."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(i.li,{children:"HashIndex: H\u1ed7 tr\u1ee3 equal query, kh\xf4ng h\u1ed7 tr\u1ee3 range query."}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(i.li,{children:["\n",(0,c.jsx)(i.p,{children:"TODO: h\xecnh \u1ea3nh v\u1ebd file n\u1ebfu s\u1eed d\u1ee5ng BTREE, B+TREE"}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(i.h3,{id:"so-s\xe1nh-c\xe1c-access-method",children:"So s\xe1nh c\xe1c Access Method."}),"\n",(0,c.jsxs)(i.ul,{children:["\n",(0,c.jsxs)(i.li,{children:["Unordered records (HEAP file)","\n",(0,c.jsxs)(i.ul,{children:["\n",(0,c.jsx)(i.li,{children:"Insert: O(1) v\xec \u0111\u01b0\u1ee3c insert \u1edf cu\u1ed1i file."}),"\n",(0,c.jsx)(i.li,{children:"Searching: O(N), t\xecm ki\u1ebfm to\xe0n b\u1ed9 (linear search)"}),"\n",(0,c.jsxs)(i.li,{children:["Delete: O(N), t\xecm ki\u1ebfm tr\xean t\u1eebng Page, load l\xean memory, x\xf3a, ghi l\u1ea1i.","\n",(0,c.jsxs)(i.ul,{children:["\n",(0,c.jsx)(i.li,{children:"c\xf3 th\u1ec3 d\xf9ng k\u0129 thu\u1eadt mark delete, sau n\xe0y xo\xe1 1 th\u1ec3 \u0111\u1ec3 t\u1ed1i \u01b0u."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(i.li,{children:["Order records (sequential): t\u01b0\u1edfng t\u01b0\u1ee3ng nh\u01b0 d\xf9ng Array.","\n",(0,c.jsxs)(i.ul,{children:["\n",(0,c.jsx)(i.li,{children:"Insert: O(LogN), r\u1ea5t l\xe0 t\u1ec7 khi ph\u1ea3i move to\xe0n b\u1ed9 data sau khi th\xeam ho\u1eb7c xo\xe1."}),"\n",(0,c.jsx)(i.li,{children:"Delete: d\xf9ng k\u0129 thu\u1eadt mark delete, \u0111\u1ee1 t\u1ec7 h\u01a1n insert."}),"\n",(0,c.jsxs)(i.li,{children:["Searching: O(LogN)","\n",(0,c.jsxs)(i.ul,{children:["\n",(0,c.jsx)(i.li,{children:"searching h\u1ed7 tr\u1ee3 range query."}),"\n",(0,c.jsx)(i.li,{children:"searching record ti\u1ebfp theo trong O(1)."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(i.li,{children:["Internal hashing","\n",(0,c.jsxs)(i.ul,{children:["\n",(0,c.jsx)(i.li,{children:"Ch\xfang ta d\xf9ng 1 field \u0111\u1ec3 l\xe0m hash key"}),"\n",(0,c.jsx)(i.li,{children:"File \u0111\u01b0\u1ee3c chia ra th\xe0nh M bucket."}),"\n",(0,c.jsx)(i.li,{children:"record v\u1edbi gi\xe1 tr\u1ecb K \u0111\u01b0\u1ee3c l\u01b0u \u1edf Page i v\u1edbi i = K mod M"}),"\n",(0,c.jsx)(i.li,{children:"Searching: O(1)"}),"\n",(0,c.jsxs)(i.li,{children:["Collision: c\xf3 2 c\xe1ch x\u1ee7 l\xfd ph\u1ed5 bi\u1ebfn","\n",(0,c.jsxs)(i.ul,{children:["\n",(0,c.jsxs)(i.li,{children:["Open addressing: t\xecm v\u1ecb tr\xed tr\u1ed1ng g\u1ea7n nh\u1ea5t, sau n\xe0y ki\u1ec3m tra c\xf3 th\u1ec3 d\xf9ng c\xf4ng th\u1ee9c ",(0,c.jsx)(i.code,{children:"i_new = (i + 1) mod M"})]}),"\n",(0,c.jsx)(i.li,{children:"L\u01b0u record b\u1ecb \u0111\u1ee5ng \u0111\u1ed9 \u1edf 1 linked list (1 page kh\xe1c \u0111\u1ec3 l\u01b0u m\u1ea5y gi\xe1 tr\u1ecb b\u1ecb \u0111\u1ee5ng \u0111\u1ed9)"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(i.li,{children:["\n",(0,c.jsx)(i.h2,{id:"b-tree",children:"B-Tree:"}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(i.h3,{id:"v\u1eady-khi-1-file-l\xean-t\u1edbi-h\xe0ng-terabyte-ch\xfang-ta-c\xf3-load-to\xe0n-b\u1ed9-file-t\u1eeb-disk-v\xe0o-memory-kh\xf4ng-",children:"V\u1eady khi 1 File l\xean t\u1edbi h\xe0ng terabyte, ch\xfang ta c\xf3 load to\xe0n b\u1ed9 file t\u1eeb disk v\xe0o memory kh\xf4ng ?"}),"\n",(0,c.jsxs)(i.ul,{children:["\n",(0,c.jsxs)(i.li,{children:["\n",(0,c.jsxs)(i.p,{children:["R\xf5 r\xe0ng l\xe0 kh\xf4ng th\u1ec3, v\u1eady n\xean ch\xfang ta s\u1ebd d\xf9ng ",(0,c.jsx)(i.code,{children:"BUFFER_POOL"}),". BUFFER_POOL kh\xf4ng ch\u1ec9 qu\u1ea3n l\xfd PAGE\ncho 1 FILE duy nh\u1ea5t."]}),"\n"]}),"\n",(0,c.jsxs)(i.li,{children:["\n",(0,c.jsx)(i.p,{children:(0,c.jsx)(i.img,{alt:"bufferpool",src:e(8658).A+"",width:"550",height:"686"})}),"\n"]}),"\n",(0,c.jsxs)(i.li,{children:["\n",(0,c.jsxs)(i.p,{children:["reference of image: ",(0,c.jsx)(i.a,{href:"https://white-night.club/index.php/2023/10/24/pg17/",children:"https://white-night.club/index.php/2023/10/24/pg17/"})]}),"\n"]}),"\n",(0,c.jsxs)(i.li,{children:["\n",(0,c.jsxs)(i.p,{children:["B\u1ea1n c\xf3 th\u1ec3 th\u1ea5y bufferpool \u0111\u1ec3 l\u01b0u c\xe1c page \u0111ang \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng, n\u1ebfu PAGE \u0111\u01b0\u1ee3c ch\u1ec9nh s\u1eeda, ta g\u1ecdi \u0111\xf3\nl\xe0 ",(0,c.jsx)(i.code,{children:"DIRTY PAGE"}),"."]}),"\n",(0,c.jsxs)(i.ul,{children:["\n",(0,c.jsx)(i.li,{children:"Khi bufferpool \u0111\u1ea7y, m\xe0 l\u1ea1i mu\u1ed1n load c\xe1c PAGE m\u1edbi l\xean, PAGE kh\xf4ng ph\u1ea3i l\xe0 DirtyPage s\u1ebd \u0111\u01b0\u1ee3c \u01b0u\nti\xean xo\xe1 kh\u1ecfi bufferpool."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(i.h3,{id:"v\u1eady-n\u1ebfu-client-y\xeau-c\u1ea7u-1-l\u1ec7nh-order-by-tr\xean-to\xe0n-b\u1ed9-record-sau-\u0111\xf3-l\u1ea5y-ra-100-record-\u0111\u1ea7u-ti\xean-th\xec-ch\xfang-ta-x\u1eed-l\xfd-nh\u01b0-th\u1ebf-n\xe0o-",children:"V\u1eady n\u1ebfu client y\xeau c\u1ea7u 1 l\u1ec7nh order by tr\xean to\xe0n b\u1ed9 record, sau \u0111\xf3 l\u1ea5y ra 100 record \u0111\u1ea7u ti\xean th\xec ch\xfang ta x\u1eed l\xfd nh\u01b0 th\u1ebf n\xe0o ?"}),"\n",(0,c.jsx)(i.pre,{children:(0,c.jsx)(i.code,{className:"language-sql",children:"    SELECT *\n    FROM student\n    ORDER BY id LIMIT 100;\n"})}),"\n",(0,c.jsxs)(i.ul,{children:["\n",(0,c.jsx)(i.li,{children:"Ch\xfang ta kh\xf4ng th\u1ec3 \u0111\u01b0a 1 t\u1ec9 record l\xean memory, r\u1ed3i ch\u1ea1y records.sort() 1 c\xe1ch \u0111\u01a1n gi\u1ea3n \u0111\u01b0\u1ee3c."}),"\n",(0,c.jsxs)(i.li,{children:["Ch\xfang ta s\u1ebd s\u1eed d\u1ee5ng ",(0,c.jsx)(i.code,{children:"MERGE-SORT"}),".","\n",(0,c.jsxs)(i.ul,{children:["\n",(0,c.jsxs)(i.li,{children:["b\u1ea1n c\xf3 th\u1ec3 xem r\xf5 h\u01a1n \u1edf \u0111\xe2y: ",(0,c.jsx)(i.a,{href:"https://www.youtube.com/watch?v=F9XmmS8rL4c",children:"https://www.youtube.com/watch?v=F9XmmS8rL4c"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(i.h3,{id:"nghi\xean-c\u1ee9u-s\xe2u-h\u01a1n-v\u1ec1-sql-sql-h\u1ed7-tr\u1ee3-c\xe1c-operator-n\xe0o-",children:"Nghi\xean c\u1ee9u s\xe2u h\u01a1n v\u1ec1 SQL, SQL h\u1ed7 tr\u1ee3 c\xe1c Operator n\xe0o ?"}),"\n",(0,c.jsxs)(i.ul,{children:["\n",(0,c.jsxs)(i.li,{children:["Operators","\n",(0,c.jsxs)(i.ul,{children:["\n",(0,c.jsx)(i.li,{children:"Insert, Delete"}),"\n",(0,c.jsx)(i.li,{children:"Filter, Join"}),"\n",(0,c.jsx)(i.li,{children:"Aggregate (min, max, sum, avg, count)"}),"\n",(0,c.jsx)(i.li,{children:"Project, Order by, Limit"}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(i.li,{children:"\u201cIterator\u201d model \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng tr\xean operators \u0111\u1ec3 ho\u1ea1t \u0111\u1ed9ng c\xf9ng v\u1edbi SQL."}),"\n",(0,c.jsx)(i.li,{children:"\xdd t\u01b0\u1edfng \u1edf \u0111\xe2y l\xe0, ch\xfang ta s\u1ebd so\u1ea1n 1 query b\u1eb1ng c\xe1ch \u0111\u01b0a Operator con v\xe0o Operator cha, v\xed d\u1ee5:"}),"\n"]}),"\n",(0,c.jsx)(i.pre,{children:(0,c.jsx)(i.code,{className:"language-sql",children:"SELECT COUNT(name)\nFROM t1,\n     t2\nWHERE t.name = t2.name\n  AND t.age > 30.\n"})}),"\n",(0,c.jsxs)(i.ul,{children:["\n",(0,c.jsxs)(i.li,{children:["\n",(0,c.jsx)(i.p,{children:"(1) fileT1 = NewFile(t)"}),"\n"]}),"\n",(0,c.jsxs)(i.li,{children:["\n",(0,c.jsx)(i.p,{children:"(2) fileT2 = NewFile(t2)"}),"\n"]}),"\n",(0,c.jsxs)(i.li,{children:["\n",(0,c.jsx)(i.p,{children:"(3) join = NewIntJoin(fileT1, fileT2, t.name = t2.name)"}),"\n"]}),"\n",(0,c.jsxs)(i.li,{children:["\n",(0,c.jsx)(i.p,{children:"(4) filter = NewFilter(join, t.age > 30)"}),"\n"]}),"\n",(0,c.jsxs)(i.li,{children:["\n",(0,c.jsx)(i.p,{children:"(5) count = NewAggregate(filter, COUNT)"}),"\n"]}),"\n",(0,c.jsxs)(i.li,{children:["\n",(0,c.jsx)(i.p,{children:"(6) project = NewProject(count, t.name)"}),"\n"]}),"\n",(0,c.jsxs)(i.li,{children:["\n",(0,c.jsx)(i.p,{children:"B\u1ea1n c\xf3 th\u1ec3 t\u01b0\u1edfng t\u01b0\u1ee3ng, 2 file \u0111\u1ea7u ti\xean, v\xed d\u1ee5 file 1 c\xf3 100 records, file 2 c\xf3 50 records, sau\nkhi \u0111i qua operator join"}),"\n"]}),"\n",(0,c.jsxs)(i.li,{children:["\n",(0,c.jsx)(i.p,{children:"t\u1ea1i b\u01b0\u1edbc (3), s\u1ebd c\xf3 5000 records \u0111\u01b0\u1ee3c join v\u1edbi \u0111i\u1ec1u ki\u1ec7n t.name = t2.name, v\xed d\u1ee5 c\xf2n l\u1ea1i 2500\nrecords."}),"\n"]}),"\n",(0,c.jsxs)(i.li,{children:["\n",(0,c.jsx)(i.p,{children:"t\u1ea1i b\u01b0\u1edbc (4), sau khi qua filter1, c\xf3 th\u1ec3 c\xf2n 1000 records"}),"\n"]}),"\n",(0,c.jsxs)(i.li,{children:["\n",(0,c.jsx)(i.p,{children:"t\u1ea1i b\u01b0\u1edbc (5), B\u01b0\u1edbc Aggregate s\u1ebd duy\u1ec7t qua to\xe0n b\u1ed9 record c\xf2n l\u1ea1i (500 record \u1edf b\u01b0\u1edbc 5)"}),"\n",(0,c.jsxs)(i.ul,{children:["\n",(0,c.jsx)(i.li,{children:"N\u1ebfu l\xe0 count th\xec t\u1ea1o 1 bi\u1ebfn \u0111\u1ebfm, m\u1ed7i l\u1ea7n \u0111i qua 1 record th c\u1ed9ng 1 v\xe0o bi\u1ebfn \u0111\u1ebfm"}),"\n",(0,c.jsx)(i.li,{children:"N\u1ebfu l\xe0 sum th\xec t\u1ea1o 1 bi\u1ebfn sum, m\u1ed7i l\u1ea7n \u0111i qua 1 record th\xec c\u1ed9ng th\xeam gi\xe1 tr\u1ecb c\u1ee7a record \u0111\xf3 v\xe0o\nbi\u1ebfn sum"}),"\n",(0,c.jsx)(i.li,{children:"N\u1ebfu l\xe0 max th\xec lu\xf4n gi\u1eef gi\xe1 tr\u1ecb l\u1edbn nh\u1ea5t, ..."}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(i.li,{children:["\n",(0,c.jsx)(i.p,{children:"T\u1ea1i b\u01b0\u1edbc 6, Operator Aggregate s\u1ebd cho ch\xfang ta th\xeam 1 column v\xe0o record, v\xed d\u1ee5: count(name) = 500,\nv\xe0 ch\xfang ta s\u1ebd l\u1ea5y \u0111\u01b0\u1ee3c gi\xe1 tr\u1ecb \u0111\xf3 ra."}),"\n"]}),"\n",(0,c.jsxs)(i.li,{children:["\n",(0,c.jsx)(i.p,{children:"C\xe1c b\u01b0\u1edbc tr\xean n\u1ea3y sinh ra 2 b\xe0i to\xe1n m\u1edbi"}),"\n",(0,c.jsxs)(i.ul,{children:["\n",(0,c.jsxs)(i.li,{children:["B\u1ea1n c\xf3 th\u1ec3 th\u1ea5y c\xe1c b\u01b0\u1edbc \u1edf tr\xean \u0111ang ch\u01b0a \u0111\u01b0\u1ee3c ",(0,c.jsx)(i.code,{children:"OPTIMIZE"})," ?"]}),"\n",(0,c.jsx)(i.li,{children:"Ph\xe9p Join \u1edf tr\xean \u0111\u01b0\u1ee3c th\u1ef1c hi\u1ec7n nh\u01b0 th\u1ebf n\xe0o ?"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(i.h3,{id:"optimize-query",children:"OPTIMIZE QUERY"}),"\n",(0,c.jsxs)(i.ul,{children:["\n",(0,c.jsxs)(i.li,{children:["B\u1ea1n c\xf3 th\u1ec3 \u0111\u1ecdc t\u1eeb slide n\xe0y (chi ti\u1ebft h\u01a1n t\xf3m t\u1eaft c\u1ee7a m\xecnh): - ",(0,c.jsx)(i.a,{href:"https://dsg.csail.mit.edu/6.5830/2023/lectures/lec10.pdf",children:"https://dsg.csail.mit.edu/6.5830/2023/lectures/lec10.pdf"})]}),"\n",(0,c.jsxs)(i.li,{children:["T\u1eeb c\xe1c LOGICAL PLAN, c\xf3 th\u1ec3 vi\u1ebft th\xe0nh c\xe1c PHYSICAL PLAN kh\xe1c nhau.","\n",(0,c.jsxs)(i.ul,{children:["\n",(0,c.jsx)(i.li,{children:'LOGICAL PLAN l\xe0 "WHAT THEY DO": b\u1ea1n c\xf3 th\u1ec3 JOIN, GROUP, FILTER, ...'}),"\n",(0,c.jsx)(i.li,{children:'PHYSICAL PLAN l\xe0 "HOW THEY DO": JOIN th\xec c\xf3 NESTED LOOP, INDEX NESTED JOIN, HASH JOIN, MERGE\nJOIN, .... B\u1ea1n s\u1ebd d\xf9ng g\xec ?'}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(i.li,{children:["V\xed d\u1ee5 \u0111\u1ebfm s\u1ed1 plan:","\n",(0,c.jsxs)(i.ul,{children:["\n",(0,c.jsx)(i.li,{children:"b\u1ea1n c\xf3 9 logical plan, v\xe0 10 physical plan, ch\xfang ta s\u1ebd c\xf3 90 plan kh\xe1c nhau."}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(i.li,{children:"\u0110\u1ec3 c\xf3 c\xe1i nh\xecn r\xf5 h\u01a1n v\u1ec1 LOGICAL PLAN, PHYSICAL PLAN, m\xecnh v\xed d\u1ee5 v\u1edbi c\xe2u query nh\u01b0 sau,"}),"\n"]}),"\n",(0,c.jsx)(i.pre,{children:(0,c.jsx)(i.code,{className:"language-sql",children:"SELECT Average(Rating)\nFROM reviews \nWHERE mid = 932;\n"})}),"\n",(0,c.jsxs)(i.ul,{children:["\n",(0,c.jsxs)(i.li,{children:["LOGICAL PLAN s\u1ebd l\xe0:","\n",(0,c.jsxs)(i.ul,{children:["\n",(0,c.jsx)(i.li,{children:"(1) 10 tri\u1ec7u record c\u1ee7a b\u1ea3ng reviews."}),"\n",(0,c.jsx)(i.li,{children:"(2) SELECT mid = 932"}),"\n",(0,c.jsx)(i.li,{children:"(3) AVG rating"}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(i.li,{children:["PHYSICAL PLAN s\u1ebd l\xe0:","\n",(0,c.jsxs)(i.ul,{children:["\n",(0,c.jsxs)(i.li,{children:["c\xe1ch 1: SCAN + FILTER qua t\u1ea5t c\u1ea3 c\xe1c record","\n",(0,c.jsxs)(i.ul,{children:["\n",(0,c.jsx)(i.li,{children:"(1) SCAN qua 10 tri\u1ec7u records c\u1ee7a table reviews"}),"\n",(0,c.jsx)(i.li,{children:"(2) FILTER tr\xean 10 tri\u1ec7u records \u0111\u1ec3 t\xecm mid = 932. O(N)"}),"\n",(0,c.jsx)(i.li,{children:"(3) AVG rating"}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(i.li,{children:["c\xe1ch 2: D\xf9ng ",(0,c.jsx)(i.code,{children:"INDEX"})," \u0111\u01b0\u1ee3c \u0111\xe1nh tr\xean c\u1ed9t mid.","\n",(0,c.jsxs)(i.ul,{children:["\n",(0,c.jsx)(i.li,{children:"(1) d\xf9ng index tr\xean c\u1ed9t mid = 932 \u0111\u1ec3 t\xecm ra c\xe1c records tho\u1ea3 m\xe3n trong O(1)."}),"\n",(0,c.jsx)(i.li,{children:"(2) AVG rating"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(i.li,{children:"Ch\xfang ta s\u1ebd estimate cost c\u1ee7a c\xe1c PHYSICAL PLAN, v\xe0 ch\u1ecdn ra PHYSICAL PLAN c\xf3 cost th\u1ea5p nh\u1ea5t."}),"\n"]}),"\n",(0,c.jsx)(i.h3,{id:"estimate-cost",children:"ESTIMATE COST"}),"\n",(0,c.jsxs)(i.ul,{children:["\n",(0,c.jsxs)(i.li,{children:["Ch\xfang ta c\xf3 2 chi ph\xed c\u1ea7n quan t\xe2m","\n",(0,c.jsxs)(i.ul,{children:["\n",(0,c.jsx)(i.li,{children:"I/O times: chi ph\xed \u0111\u1ecdc PAGE t\u1eeb disk."}),"\n",(0,c.jsx)(i.li,{children:"CPU time: chi ph\xed x\u1eed l\xfd operators (filter, join, ...), khi duy\u1ec7t qua c\xe1c records tr\xean MEMORY."}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(i.li,{children:"V\xed d\u1ee5 c\xe2u query sau:"}),"\n"]}),"\n",(0,c.jsx)(i.pre,{children:(0,c.jsx)(i.code,{className:"language-sql",children:"SELECT Average(Rating)\nFROM reviews\nWHERE mid = 932;\n"})}),"\n",(0,c.jsxs)(i.ul,{children:["\n",(0,c.jsxs)(i.li,{children:["\n",(0,c.jsx)(i.p,{children:"V\u1edbi ti\u1ec1n \u0111i\u1ec1u ki\u1ec7n:"}),"\n",(0,c.jsxs)(i.ul,{children:["\n",(0,c.jsx)(i.li,{children:"(1) Table reviews c\xf3 100k page, m\u1ed7i page c\xf3 100 records -> 10 tri\u1ec7u records. Size file = 800\nMB."}),"\n",(0,c.jsxs)(i.li,{children:["(2) CPU time = 0.1 \u03bcs (10^-6s)/row cho ",(0,c.jsx)(i.code,{children:"FILTER predicate"})]}),"\n",(0,c.jsxs)(i.li,{children:["(3) CPU time = 0.1 \u03bcs (10^-6s)/row cho ",(0,c.jsx)(i.code,{children:"AVG predicate"})]}),"\n",(0,c.jsx)(i.li,{children:"(4) Random disk I/O = 0.003 second per disk I/O."}),"\n",(0,c.jsxs)(i.li,{children:["(5) Table \u0111\u01b0\u1ee3c l\u01b0u trong disk b\u1eb1ng c\xe1ch sorted theo c\u1ed9t ",(0,c.jsx)(i.code,{children:"date"}),"."]}),"\n",(0,c.jsx)(i.li,{children:"(6) Gi\u1ea3 s\u1eed c\xf3 100 records tho\u1ea3 m\xe3n MID = 932."}),"\n",(0,c.jsx)(i.li,{children:"(7) I/O c\xf3 th\u1ec3 Scan table reviews v\u1edbi 100MB/second"}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(i.li,{children:["\n",(0,c.jsx)(i.p,{children:"C\xe1ch 1: scan + filter"}),"\n",(0,c.jsxs)(i.ul,{children:["\n",(0,c.jsx)(i.li,{children:"SCAN: T\u1eeb \u0111i\u1ec1u ki\u1ec7n 1 + 7, ta t\xednh \u0111\u01b0\u1ee3c: 800/100 = 8 seconds."}),"\n",(0,c.jsx)(i.li,{children:"filter \u0111\u01b0\u1ee3c apply cho 10M rows. d\xf9ng \u0111i\u1ec1u ki\u1ec7n (2) \u0111\u1ec3 t\xednh = 1 seconds."}),"\n",(0,c.jsx)(i.li,{children:"AVG d\u01b0\u1ee3c apply tr\xean 100 rows (\u0111i\u1ec1u ki\u1ec7n 6). ti\u1ebfp t\u1ee5c d\xf9ng \u0111i\u1ec1u ki\u1ec7n (3) \u0111\u1ec3 t\xednh cost, b\xe9 qu\xe1\nb\u1ecf qua."}),"\n",(0,c.jsx)(i.li,{children:"Ch\xfang ta s\u1ebd c\xf3 t\u1ed5ng th\u1eddi gian l\xe0 8 (SCAN) + 1 (FILTER) = 9 seconds."}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(i.li,{children:["\n",(0,c.jsxs)(i.p,{children:["C\xe1ch 2: d\xf9ng ",(0,c.jsx)(i.code,{children:"INDEX"})," \u1edf c\u1ed9t MID"]}),"\n",(0,c.jsxs)(i.ul,{children:["\n",(0,c.jsxs)(i.li,{children:["Ch\xfang ta bi\u1ebft 100 rows tho\u1ea3 \u0111i\u1ec1u ki\u1ec7n, ",(0,c.jsx)(i.code,{children:"MID index"}),"\n",(0,c.jsxs)(i.ul,{children:["\n",(0,c.jsx)(i.li,{children:"V\u1edbi \u0111i\u1ec1u ki\u1ec7n (5), ch\xfang ta gi\u1ea3 s\u1eed c\xe1c records tho\u1ea3 m\xe3n n\u1eb1m r\u1ea3i r\xe1c \u1edf 100 page kh\xe1c nhau (\nKhi d\u1eef li\u1ec7u kh\xf4ng \u0111\u01b0\u1ee3c s\u1eafp x\u1ebfp theo MID, c\xe1c b\u1ea3n ghi c\xf3 mid = 932 c\xf3 th\u1ec3 n\u1eb1m r\u1ea3i r\xe1c \u1edf\nnhi\u1ec1u n\u01a1i kh\xe1c nhau tr\xean \u0111\u0129a.)"}),"\n",(0,c.jsx)(i.li,{children:"K\u1ebft h\u1ee3p v\u1edbi \u0111i\u1ec7u ki\u1ec7n 4, ch\xfang ta \u0111\u1ecdc 100 page, 100*0.003 = 0.3s"}),"\n",(0,c.jsx)(i.li,{children:"V\u1eady t\u1ed5ng th\u1eddi gian ch\xfang ta c\u1ea7n ch\u1ec9 c\xf3 0.3s (cho seek disk tr\xean 100 page)."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(i.li,{children:["\n",(0,c.jsxs)(i.p,{children:["N\u1ebfu ",(0,c.jsx)(i.code,{children:"INDEX"})," tr\xean c\u1ed9t MID kh\xf4ng ph\u1ea3i ch\u1ec9 c\xf3 100 row tho\u1ea3 m\xe3n, m\xe0 l\xe0 10.000 rows th\xec sao ?"]}),"\n",(0,c.jsxs)(i.ul,{children:["\n",(0,c.jsx)(i.li,{children:"index c\xf3 th\u1ec3 c\u1ea7n t\u1edbi 30 gi\xe2y."}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(i.li,{children:["\n",(0,c.jsx)(i.p,{children:(0,c.jsx)(i.img,{alt:"query-predicates",src:e(3480).A+"",width:"1246",height:"960"})}),"\n"]}),"\n",(0,c.jsxs)(i.li,{children:["\n",(0,c.jsx)(i.p,{children:"Ph\xe9p Join c\u0169ng l\xe0 1 ph\u1ea7n c\u1ee7a qu\xe1 tr\xecnh Optimize Query, ch\xfang ta s\u1ebd t\xecm hi\u1ec3u \u1edf m\u1ee5c ti\u1ebfp theo."}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(i.h3,{id:"ph\xe9p-join-\u0111\u01b0\u1ee3c-th\u1ef1c-hi\u1ec7n-nh\u01b0-th\u1ebf-n\xe0o-\u0111\u1ed9-ph\u1ee9c-t\u1ea1p-c\u1ee7a-m\u1ed7i-lo\u1ea1i-",children:"Ph\xe9p Join \u0111\u01b0\u1ee3c th\u1ef1c hi\u1ec7n nh\u01b0 th\u1ebf n\xe0o, \u0111\u1ed9 ph\u1ee9c t\u1ea1p c\u1ee7a m\u1ed7i lo\u1ea1i ?"}),"\n",(0,c.jsxs)(i.ul,{children:["\n",(0,c.jsxs)(i.li,{children:["\n",(0,c.jsx)(i.p,{children:(0,c.jsx)(i.code,{children:"NESTED LOOP JOIN"})}),"\n",(0,c.jsxs)(i.ul,{children:["\n",(0,c.jsxs)(i.li,{children:["C\u01a1 b\u1ea3n l\xe0 v\xf2ng l\u1eb7p loop, v\u1edbi m\u1ed7i tuple c\u1ee7a t1, ch\xfang ta s\u1ebd duy\u1ec7t qua to\xe0n b\u1ed9 tuple t2, v\xe0 l\u1ea5y\nt\u1ea5t c\u1ea3 c\xe1c tuple tho\u1ea3 \u0111i\u1ec1u c\u1ee7a ph\xe9p join.","\n",(0,c.jsxs)(i.ul,{children:["\n",(0,c.jsxs)(i.li,{children:["v\xed d\u1ee5:","\n",(0,c.jsxs)(i.ul,{children:["\n",(0,c.jsxs)(i.li,{children:["t1 c\xf3 ",(0,c.jsx)(i.code,{children:"tuple1 = hoang, 5"}),"."]}),"\n",(0,c.jsxs)(i.li,{children:["t2 c\xf3 ",(0,c.jsx)(i.code,{children:"tuple1 = hoang, 4"}),"; ",(0,c.jsx)(i.code,{children:"tuple2 = hoang, 5"}),"; tuple3 = huy, 6; tuple4 = ngoc, 7"]}),"\n",(0,c.jsx)(i.li,{children:"th\xec ch\xfang ta s\u1ebd c\xf3 2 tuple tho\u1ea3 \u0111i\u1ec1u ki\u1ec7n c\u1ee7a ph\xe9p join"}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(i.li,{children:["\u0110\u1ed9 ph\u1ee9c t\u1ea1p gi\u1ea3i thu\u1eadt, t1 c\xf3 N tuple, t2 c\xf3 M tuple","\n",(0,c.jsxs)(i.ul,{children:["\n",(0,c.jsx)(i.li,{children:"th\xec \u0111\u1ed9 ph\u1ee9c t\u1ea1p l\xe0 O(N*M)"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(i.li,{children:["\n",(0,c.jsx)(i.p,{children:(0,c.jsx)(i.code,{children:"INDEX NESTED LOOP JOIN"})}),"\n",(0,c.jsxs)(i.ul,{children:["\n",(0,c.jsxs)(i.li,{children:["\u0110\u1ed9 ph\u1ee9c t\u1ea1p gi\u1ea3i thu\u1eadt, t1 c\xf3 N tuple, t2 c\xf3 M tuple (\u0111\u01b0\u1ee3c \u0111\xe1nh index)","\n",(0,c.jsxs)(i.ul,{children:["\n",(0,c.jsx)(i.li,{children:"th\xec \u0111\u1ed9 ph\u1ee9c t\u1ea1p l\xe0 O(N*logM)"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(i.li,{children:["\n",(0,c.jsx)(i.p,{children:(0,c.jsx)(i.code,{children:"HASH JOIN"})}),"\n",(0,c.jsxs)(i.ul,{children:["\n",(0,c.jsxs)(i.li,{children:["\u0110\u1ed9 ph\u1ee9c t\u1ea1p gi\u1ea3i thu\u1eadt, t1 c\xf3 N tuple, t2 c\xf3 M tuple. C\u1ea3 2 \u0111\u1ec1u kh\xf4ng \u0111\u01b0\u1ee3c \u0111\xe1nh index.","\n",(0,c.jsxs)(i.ul,{children:["\n",(0,c.jsx)(i.li,{children:"Ch\xfang ta hash tr\xean \u0111i\u1ec1u ki\u1ec7n \u0111\u1ea7u v\xe0o, c\u1ee7a b\u1ea3ng c\xf3 size nh\u1ecf h\u01a1n. Sau \u0111\xf3 duy\u1ec7t tr\xean b\u1ea3ng l\u1edbn\nh\u01a1n, v\xe0 ki\u1ec3m tra xem c\xf3 trong hash table kh\xf4ng."}),"\n",(0,c.jsx)(i.li,{children:"th\xec \u0111\u1ed9 ph\u1ee9c t\u1ea1p l\xe0 O(N + M)"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(i.li,{children:["\n",(0,c.jsx)(i.p,{children:(0,c.jsx)(i.code,{children:"MERGE JOIN"})}),"\n",(0,c.jsxs)(i.ul,{children:["\n",(0,c.jsx)(i.li,{children:"\u0110\u01b0\u1ee3c s\u1eed d\u1ee5ng khi c\u1ea3 2 b\u1ea3ng qu\xe1 l\u1edbn"}),"\n",(0,c.jsxs)(i.li,{children:["\u0110\u1ed9 ph\u1ee9c t\u1ea1p l\xe0 O(N + M) ho\u1eb7c O(N",(0,c.jsx)(i.em,{children:"logN + M"}),"logM) tu\u1ef3 theo c\u1ed9t \u0111\xe3 \u0111\u01b0\u1ee3c s\u1eafp x\u1ebfp hay ch\u01b0a."]}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(i.li,{children:["\n",(0,c.jsx)(i.p,{children:"Ngo\xe0i ra c\xf2n r\u1ea5t nhi\u1ec1u c\xe1ch kh\xe1c, nh\u01b0ng m\xecnh kh\xf4ng mu\u1ed1n bi\u1ebfn \u0111\xe2y th\xe0nh 1 b\xe0i h\u1ecdc DSA."}),"\n"]}),"\n",(0,c.jsxs)(i.li,{children:["\n",(0,c.jsx)(i.p,{children:"Query Optimization s\u1ebd ch\u1ecdn ra ph\xe9p join t\u1ed1t nh\u1ea5t tu\u1ef3 thu\u1ed9c v\xe0o s\u1ed1 l\u01b0\u1ee3ng record, index, selectivity\nfactor. B\u1ea1n c\xf3 th\u1ec3 t\u1ef1 \u0111\xe0o s\xe2u n\u1ebfu mu\u1ed1n."}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(i.h3,{id:"b\xe0i-h\xf4m-nay-c\u0169ng-\u0111\xe3-d\xe0i-h\u1eb9n-g\u1eb7p-l\u1ea1i-c\xe1c-b\u1ea1n-\u1edf-b\xe0i-ti\u1ebfp-theo",children:"B\xe0i h\xf4m nay c\u0169ng \u0111\xe3 d\xe0i, h\u1eb9n g\u1eb7p l\u1ea1i c\xe1c b\u1ea1n \u1edf b\xe0i ti\u1ebfp theo."})]})}function o(n={}){const{wrapper:i}={...(0,h.R)(),...n.components};return i?(0,c.jsx)(i,{...n,children:(0,c.jsx)(a,{...n})}):a(n)}},8658:(n,i,e)=>{e.d(i,{A:()=>c});const c=e.p+"assets/images/bufferpool-350deb074faed56f05aaf64e152ef492.png"},2715:(n,i,e)=>{e.d(i,{A:()=>c});const c=e.p+"assets/images/db-components-ff2baa356e286e89af5728338fcd86d1.png"},4214:(n,i,e)=>{e.d(i,{A:()=>c});const c=e.p+"assets/images/heapfile-c9baa4f4f5a15645d6e0e10640c9a8a6.png"},3480:(n,i,e)=>{e.d(i,{A:()=>c});const c=e.p+"assets/images/query-predicate-573ec02dc2a682f9ce165691a149abe8.png"},8453:(n,i,e)=>{e.d(i,{R:()=>s,x:()=>t});var c=e(6540);const h={},l=c.createContext(h);function s(n){const i=c.useContext(l);return c.useMemo((function(){return"function"==typeof n?n(i):{...i,...n}}),[i,n])}function t(n){let i;return i=n.disableParentContext?"function"==typeof n.components?n.components(h):n.components||h:s(n.components),c.createElement(l.Provider,{value:i},n.children)}}}]);